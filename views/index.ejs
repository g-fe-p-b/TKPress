<%- include('partials/header.ejs') %>
<%- include('partials/homeNavbar.ejs') %>

<body>
  <main class="container" id="main">
    
    <!-- Cabeçalho -->
    <header class="header" role="banner">
      <a class="brand" href="/" aria-label="Ir para a página inicial">
        <div class="logo" aria-hidden="true">TK</div>
        <div>
          <h1 class="title">TKPress</h1>
          <p class="subtitle">Leitura rápida. Conteúdo com alma.</p>
        </div>
      </a>
    </header>

    <!-- Grid com hero e painel lateral -->
    <section class="grid">
      
      <!-- Hero principal -->
      <section class="hero card fade-up" aria-labelledby="headline">
        <h1 id="headline" class="headline">Leitura rápida. Conteúdo com alma.</h1>
        <p class="lead">Descubra artigos, organize por categorias e tenha uma experiência incrível.</p>

        <div class="controls" role="region" aria-label="Ações principais">
          <button class="btn" id="cta-read">Explorar artigos</button>
          <button class="btn ghost" id="cta-new">Criar novo artigo</button>
        </div>

        <hr style="margin:18px 0; border:0; height:1px; background:rgba(255,255,255,0.1)">

        <div aria-live="polite" id="status-line" class="small">
          Você está navegando em uma versão front-end instantânea.
        </div>
      </section>

      <!-- Painel direito -->
      <aside class="right-col" aria-labelledby="auth-title">

        <!-- Card de Login / Registro -->
        <div id="auth-panel" class="card" role="region" aria-label="painel de autenticação">
          <h2 id="auth-title" style="margin:0 0 8px 0">Entrar / Criar conta</h2>

          <div style="display:flex; gap:8px; margin-bottom:12px">
            <button class="btn ghost" id="tab-login" aria-pressed="true">Entrar</button>
            <button class="btn ghost" id="tab-register" aria-pressed="false">Criar conta</button>
          </div>

          <!-- Login -->
          <form id="login-form" class="form" autocomplete="on" novalidate>
            <div class="form-row">
              <label for="login-email">Email</label>
              <input id="login-email" name="email" type="email" inputmode="email" placeholder="seu@exemplo.com" required />
            </div>
            <div class="form-row">
              <label for="login-pass">Senha</label>
              <input id="login-pass" name="password" type="password" minlength="6" placeholder="••••••" required />
            </div>
            <div style="display:flex; gap:8px; align-items:center">
              <button class="btn" type="submit">Entrar</button>
              <button class="btn ghost" type="button" id="forgot">Esqueci a senha</button>
            </div>
          </form>

          <!-- Registro -->
          <form id="register-form" class="form" style="display:none" autocomplete="on" novalidate>
            <div class="form-row">
              <label for="reg-name">Nome</label>
              <input id="reg-name" name="name" type="text" placeholder="Seu nome" required />
            </div>
            <div class="form-row">
              <label for="reg-email">Email</label>
              <input id="reg-email" name="email" type="email" placeholder="seu@exemplo.com" required />
            </div>
            <div class="form-row">
              <label for="reg-pass">Senha</label>
              <input id="reg-pass" name="password" type="password" minlength="6" placeholder="••••••" required />
            </div>
            <div style="display:flex; gap:8px; align-items:center">
              <button class="btn" type="submit">Criar conta</button>
              <button class="btn ghost" type="button" id="cancel-reg">Cancelar</button>
            </div>
          </form>

          <div class="small" style="margin-top:12px; color:var(--muted)">
            Senha mínima: 6 caracteres. Em produção, utilize hashing e backend seguro.
          </div>
        </div>
      </aside>
    </section>

    <!-- Lista de artigos abaixo do hero -->
    <section style="margin-top:24px">
      <h2 style="margin-bottom:12px">Últimos artigos</h2>
      <div class="article-list" id="articles">
        <% articles.forEach(article => { %>
          <article class="article fade-up">
            <div class="content">
              <h4 class="title"><%= article.title %></h4>
              <a href="/<%= article.slug %>" class="btn ghost">Ler artigo</a>
            </div>
          </article>
        <% }) %>
      </div>
    </section>

    <%- include('partials/footer.ejs') %>
  </main>
</body>